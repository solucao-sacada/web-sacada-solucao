<app-menu-step
    title="Dados do Pedido"
    step="1 - Dados do Pedido"
    urlVideo="https://www.youtube.com/embed/aPP1iIIU1QM?si=s61jT2ArrdxgxIfd"
></app-menu-step>

<div class="p-fluid p-formgrid grid">
    <div class="field col-12">
        <label htmlFor="nomeCliente">Nome Cliente *</label>
        <input
            pInputText
            [(ngModel)]="pedidoService.pedido?.client.name"
            required
        />
    </div>
    <div class="field col-12 sm:col-4 lg:col-4">
        <label>CEP</label>
        <p-inputMask
            [(ngModel)]="pedidoService.pedido?.client.zipCode"
            (ngModelChange)="onChangeCep()"
            mask="99999-999"
        ></p-inputMask>
    </div>
    <div class="field col-12 sm:col-6 lg:col-6">
        <label>Rua *</label>
        <input
            pInputText
            [(ngModel)]="pedidoService.pedido?.client.address"
            required
        />
    </div>
    <div class="field col-12 sm:col-2 lg:col-2">
        <label>Número *</label>
        <input
            pInputText
            [(ngModel)]="pedidoService.pedido?.client.num"
            required
            #numeroInput
        />
    </div>
    <div class="col-12">
        <p-selectButton
            class="selectBuilding"
            [options]="[{ name: 'Loja' }, { name: 'Apartamento' }, { name: 'Casa' }]"
            [(ngModel)]="pedidoService.pedido?.client.apartment"
            [multiple]="false"
            optionLabel="name"
            optionValue="name"
        ></p-selectButton>
    </div>
    <div class="field col-12 sm:col-3" *ngIf="pedidoService.pedido?.client.apartment === 'Apartamento'">
        <label>Complemento</label>
        <input pInputText [(ngModel)]="pedidoService.pedido?.client.building" />
    </div>

    <div class="field col-12 sm:col-3">
        <label>Bairro *</label>
        <input
            pInputText
            [(ngModel)]="pedidoService.pedido?.client.neighborhood"
            required
        />
    </div>
    <div class="field col-12 sm:col-3">
        <label>Cidade *</label>
        <input
            pInputText
            [(ngModel)]="pedidoService.pedido?.client.city"
            required
        />
    </div>
    <div class="field col-12 sm:col-2">
        <label>Estado *</label>
        <input
            pInputText
            [(ngModel)]="pedidoService.pedido?.client.state"
            required
        />
    </div>
    <div class="field col-12 sm:col-4">
        <label>Número Orçamento</label>
        <input pInputText />
    </div>
</div>
<app-navigation-tabs-btn
    [showPrev]="false"
    (nextTab)="showMessageDraft()"
>
</app-navigation-tabs-btn>
<div>
    <p-dialog [(visible)]="visible" [style]="{width: '450px'}" header="Aviso" [modal]="true" class="p-fluid">
        <p class="text-700">Olá, {{user.name}}</p>
        <p>
            Seu pedido está protegido! Será salvo automaticamente como rascunho para facilitar sua experiência. Para acessá-lo, basta ir aos rascunhos.
        </p>
        <div class="flex flex-row gap-2 justify-content-end mt-4">
            <button
                pButton
                style="width: 7.1rem;"
                (click)="simContinuar()">
                Continuar
            </button>
        </div>
    </p-dialog>


</div>
<p-toast position="bottom-center" life="4000" key="tst"></p-toast>
